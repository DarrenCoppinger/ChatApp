<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ChatApp</title>

    <!--    Bootstrap-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!--  fontawesome-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/fontawesome.min.css" integrity="sha384-jLKHWM3JRmfMU0A5x5AkjWkw/EYfGUAGagvnfryNV3F9VqM98XiIH7VBGVoxVSc7" crossorigin="anonymous">
    <!--    CSS-->
    <link rel="stylesheet" href="static/css/style.css">
<!--    <link rel="script" href="static/js/chat.js">-->
  </head>
  <body>
    <header></header>
    <main>
      <section>
        <div class="container">
          <div class="row mt-5">
            <div class="col-12">
              <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label">Handle</label>
                <input type="text" class="form-control" id="exampleFormControlInput1" placeholder="@handle">
              </div>
              <div class="mb-3">
                <label for="exampleFormControlTextarea1" class="form-label">Comment</label>
                <textarea class="form-control" id="exampleFormControlTextarea1" rows="3" placeholder="Write something here"></textarea>
              </div>
              <div class="mb-3">
                <button type="submit" onclick="addComment();" class="btn btn-primary mb-3">Post Comment</button>
              </div>
            </div>
          </div>
        </div>
      </section>
      <section>
        <div class="container">
          <div class="row mt-5">
            <div class="col-12">
              <div id="commentSection">Something here</div>
            </div>
          </div>
        </div>
      </section>
    </main>
    <footer>

    </footer>

    <script>
      // var form = document.getElementsByTagName('form')[0]
      var comment =[];
      var handle;
      var text;
      var postdate;
      handleID = document.getElementById('exampleFormControlInput1')
      textID = document.getElementById('exampleFormControlTextarea1');
      postdate = Date.now();

      commentSectionID = document.getElementById('commentSection');
      commentSection
      // var hid = handleID.value;

      var sHTML = "No Comments";


      var commentSectionId = document.getElementById('commentSection')
      commentSectionId.innerHTML = sHTML
      // form.addEventListener("submit", function (event) {

      function addComment(){
        //console.log(handleID)
        //console.log("test")
        console.log(handleID.value)
        console.log(textID.value)
        //console.log(textID)

        comment.push({handle:handleID.value, text:textID.value, postdate:postdate});
        console.log(comment[0]);
        displayComments();
      }

      function displayComments(){
        sHTML = "";
        for(var i = 0; i<comment.length; i++){
          sHTML += "<p>Handle: " + comment[i].handle + "</p> \n" +
                  "<p>Comment: " + comment[i].text + "</p> \n" +
                  "<p><button>Like</button>" + "</p> \n " +
                  "<p>Time:" +  comment[i].postdate + "</p>";
        }
        commentSectionID.innerHTML = sHTML

      }

    </script>


  </body>
</html>
